<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Add Payment</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Create Patient</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
<body>
    <a class="btn btn-primary" href="/login" style="float: right; margin-right: 2px; margin-top: 2px;">Logout</a>
    <br/>
<h1 class="text-center mb-5">Add Payment</h1>
<form action="#" th:action="@{/payments}" th:object="${payment}" method="post">
    <div class="container">
        <div class="row">
            <div class="col-md-8 mx-auto rounded border p-4 m-4">
                <div class="row mb-3">
                    <label class="col-sm-4 col-form-label" for="patient">Patient</label>
                    <div class="col-sm-8">
                        <input class="form-control" type="text" id="patient" th:field="*{patientId}"/>
                    </div>
                </div>

                <div class="row mb-3">
                    <label class="col-sm-4 col-form-label" for="patient">Payment Date</label>
                    <div class="col-sm-8">
                        <input class="form-control" type="text" id="paymentDate" th:field="*{paymentDate}"/>
                    </div>
                </div>

                <div class="row mb-3">
                    <label class="col-sm-4 col-form-label" for="paymentMethod">Payment Method</label>
                    <div class="col-sm-8">
                        <select class="form-control" id="paymentMethod" th:field="*{paymentMethod}">
                            <option value="CASH">Cash</option>
                            <option value="DEBIT_CREDIT">Debit/Credit</option>
                            <option value="BANK_TRANSFER">Bank Transfer</option>
                        </select>
                    </div>
                </div>

                <div class="row mb-3">
                    <label class="col-sm-4 col-form-label" for="paymentDetails">Payment Details</label>
                    <div class="col-sm-8">
                        <input class="form-control" type="text" id="paymentDetails" th:field="*{paymentDate}"/>
                    </div>
                </div>
                <h5>Particulars</h5>
                <div class="row mb-3">
                    <label>
                        <input type="checkbox" id="doctorFeesCheckbox" onclick="toggleExtraInput('doctorFeesCheckbox', 'doctorFeesInput')">
                        Doctor Fees
                        <div id="doctorFeesInput" class="extra-input">
                            <label for="doctorFees">Enter Doctor Fees:</label>
                            <input type="text" id="doctorFees" th:field="*{doctorFees}">
                        </div>
                    </label>
                    <label>
                        <input type="checkbox" id="roomServiceCheckbox" onclick="toggleExtraInput('roomServiceCheckbox', 'roomServiceInput')">
                        Room Service
                        <div id="roomServiceInput" class="extra-input">
                            <label for="roomService">Enter Room Service Fees:</label>
                            <input type="text" id="roomService" th:field="*{roomService}">
                        </div>
                    </label>
                    <label>
                        <input type="checkbox" id="pharmacyCheckbox" onclick="toggleExtraInput('pharmacyCheckbox', 'pharmacyInput')">
                        Pharmacy
                        <div id="pharmacyInput" class="extra-input">
                            <label for="pharmacyCost">Enter Pharmacy Cost:</label>
                            <input type="text" id="pharmacyCost" th:field="*{pharmacyCost}">
                        </div>
                    </label>
                    <button class="btn btn-primary" style="margin-top: 5px;" type="submit">Add Payment</button>
                </div>
            </div>
        </div>
    </div>    
</form>
</body>

<script>
    function toggleExtraInput(checkboxId, inputId) {
        var checkbox = document.getElementById(checkboxId);
        var inputDiv = document.getElementById(inputId);
        if (checkbox.checked) {
            inputDiv.style.display = "block";
        } else {
            inputDiv.style.display = "none";
        }
    }
</script>
<style>
    .extra-input {
        display: none;
    }
</style>
</head>
</html>
